@model inventory.Services.AnalyticsRepo.AnalyticsDto
      

@{
    ViewData["Title"] = "Analytics";
}

<h1>Analytics</h1>

<div class="container mt-5">
    <h1 class="display-4 text-center mb-4">Analytics Overview</h1>

    <div class="row text-center">
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title   ">Total Sales</h5>
                    <p class="card-text display-6">£@Model.TotalSales.ToString("N2")</p>
                    <p class="card-text text-secondary">Total sales value</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title
                    ">Total Stock</h5>
                    <p class="card-text display-6">@Model.TotalProducts</p>
                    <p class="card-text text-secondary">Total products</p>  
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title
                    ">Total Orders</h5>
                    <p class="card-text display-6">@Model.TotalOrders</p>
                    <p class="card-text text-secondary">Total orders</p>  
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Total Suppliers</h5>
                    <p class="card-text display-6">@Model.TotalSuppliers</p>
                    <p class="card-text text-secondary">Total suppliers</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Total Categories</h5>
                    <p class="card-text display-6">@Model.TotalCategories</p>
                    <p class="card-text text-secondary">Total categories</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Over stock count</h5>
                    <p class="card-text display-6">@Model.OverstockCount</p>
                    <p class="card-text text-secondary">overstocked </p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Low stock count</h5>
                    <p class="card-text display-6">@Model.LowStockCount</p>
                    <p class="card-text text-secondary">understocked</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Out of stock count</h5>
                    <p class="card-text display-6">@Model.OutOfStockCount</p>
                    <p class="card-text text-secondary">out of stock</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Sales Comparison (Todays Sales vs Predicted Sales)</h5>
                    <p class="card-text display-6">£@Model.TodaySales.ToString("N2") vs £@Model.PredictedDailySales.ToString("N2")</p>
                    <p class="card-text text-secondary">Comparison of sales</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Orders Comparison (This Week vs Predicted)</h5>
                    <p class="card-text display-6">@Model.WeekSales vs @Model.PredictedWeeklySales</p>
                    <p class="card-text text-secondary">Comparison of weekly sales</p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Orders Comparison (This Month vs Last Month)</h5>
                    <p class="card-text display-6">@Model.MonthSales vs @Model.PredictedMonthlySales</p>
                    <p class="card-text text-secondary">Comparison of Monthly</p>
                </div>
            </div>
        </div>
        <div class="col-lg-12 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Monthly Sales Chart</h5>
                    <div style="width: auto; height: 300px;">
                        <canvas id="analyticsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-12 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Daily Sales Chart</h5>
                    <div style="width: auto; height: 300px;">
                        <canvas id="dailySalesChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>  
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    var months = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model.Months));
    var monthlySales = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model.MonthlySales));
    var days = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model.Days));
    var dailySales = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model.DailySales));
</script>
<script src="~/js/analytics.js"></script>
   
}
